<!--TODO:8ì‹œë‘ 22ì‹œì— ì‹œê°„í‘œ ì¶”ê°€ ì•ˆë˜ë„ë¡ í•´ì•¼ í•¨-->
{% extends 'base.html' %}
{% load static %}

{% block css %}
<style type="text/css">
    #left_frame {
        height: 130%;
    }

    /* main */
    main {
        padding-top: 30px;
        margin-left: 350px; /* (#left_frameì˜ width) + 20px */
    }
    main button:hover {
        background-color: rgba(142,68,173,0.8);
        border-color: rgba(142,68,173);
    }
    main button.reverse {
        color: #8E44AD;
        background-color: #fff;
        border: 1px solid #8E44AD;
    }
    main button.reverse:hover {
        color: #542E86;
        background-color: rgba(142,68,173,0.1);
        border: 1px solid #542E86;
    }
    main .display_none {
        display: none;
    }

    /* header */
    #header {
        margin-bottom:30px;
    }
    #header #choose_menu {
        margin-right: 10%;
    }
    #header #choose_menu .show_pick {
        display: inline-block;
        margin-right: 15px;
        vertical-align: sub;
    }
    #header #choose_menu .explain {
        margin-top: 10px;
    }
    #header #choose_menu .block {
        display: block;
        font-size: 9pt;
    }
    #header #choose_menu #choose_cant_meet {
        padding: 5 10 5 10;
        color:white;
        background-color:#FF8683;
        border-radius: 4px;
        border: 1px solid #707070;
    }
    #header #choose_menu #choose_can_meet {
        padding: 5 10 5 10;
        color:white;
        background-color:#62D77D;
        border-radius: 4px;
        border: 1px solid #707070;
    }
    #header #choose_menu button {
        vertical-align: top;
    }

    /* schedule table */
    #schedule_table {
        width: 85%;
        margin-left: 50px;
        table-layout: fixed;
        border-spacing: 0;
        margin-bottom: 30px;
        font-size: 9pt;
        color: white;
    }
    #schedule_table th, #schedule_table td {
        width: 120px;
        padding: .75rem;
        border-left: 1px solid #E2D7F1;
    }
    #schedule_table thead th, #schedule_table thead .time {
        color: #212529;
        border-top: 1px solid #E2D7F1;
        border-bottom: 2px solid #E2D7F1;
    }
    #schedule_table .day {
        text-align: center;
        font-size: 10pt;
    }
    #schedule_table .time {
        border-left: none;
        width: 70px;
        vertical-align: middle;
        padding-top: 1.2rem;
        border: none; 
        color: #B4A4CA;
        font-size: 10pt;
    }
    #schedule_table .oclock {
        border-bottom: 1px dashed #E2D7F1;
    }
    #schedule_table .half {
        border-bottom: 1px solid #E2D7F1;
    }
    #schedule_table .today {
        background-color: #F9F5FF;
    }
    #schedule_table .X {    /* ì•½ì† ë¶ˆê°€ ì…€ */
        border-bottom: none;
        background-color: #FF8683;
        padding-top: 0px;
        padding-bottom: 0px;
    }
    #schedule_table .O {    /* ì•½ì† ì„ í˜¸ ì…€ */
        border-bottom: none;
        background-color: #62D77D;
        padding-top: 0px;
        padding-bottom: 0px;
    }
    #schedule_table .start {    /* ìŠ¤ì¼€ì¤„ ì²« ì…€ */
        border-top-left-radius: 13px;
        border-top-right-radius: 13px;
    }
    #schedule_table .X.start {  /* ìŠ¤ì¼€ì¤„ ì²« ì…€(ì•½ì† ë¶ˆê°€) */
        background-color: #E57876;
    }
    #schedule_table .O.start {  /* ìŠ¤ì¼€ì¤„ ì²« ì…€(ì•½ì† ì„ í˜¸) */
        background-color: #57C070;
    }
    #schedule_table .end {  /* ìŠ¤ì¼€ì¤„ ë§ˆì§€ë§‰ ì…€ */
        border-bottom-left-radius: 13px;
        border-bottom-right-radius: 13px;
    }
    #schedule_table td img {
        height: 15px;
    }
    #schedule_table.red_clickable td {   /* choiceType=1(=ì•½ì† ë¶ˆê°€)ì¼ ë•Œ ìŠ¤ì¼€ì¤„ ì—†ëŠ” td */
        cursor: url('{% static "images/brush_red.png" %}'),auto;
    }
    #schedule_table.green_clickable td {   /* choiceType=2(=ì•½ì† ì„ í˜¸)ì¼ ë•Œ ìŠ¤ì¼€ì¤„ ì—†ëŠ” td */
        cursor: url('{% static "images/brush_green.png" %}'),auto;
    }
    #schedule_table.red_clickable .O, #schedule_table.red_clickable .X, #schedule_table.green_clickable .O, #schedule_table.green_clickable .X {   /* choiceTypeì´ ìˆì„ ë•Œ ìŠ¤ì¼€ì¤„ ìˆëŠ” td */
        cursor: not-allowed;
    }
    #schedule_table.red_clickable .red_changed {  /* choiceType=1(=ì•½ì† ë¶ˆê°€)ì¼ ë•Œ ì…€ì„ í´ë¦­í•œ ê²½ìš° */
        background-color: #FF8683;
    }
    #schedule_table.green_clickable .green_changed {    /* choiceType=2(=ì•½ì† ì„ í˜¸)ì¼ ë•Œ ì…€ì„ í´ë¦­í•œ ê²½ìš° */
        background-color: #62D77D;
    }
    #schedule_table .padding0 {
        padding-top: 0;
        padding-bottom: 0;
    }
    
    /* ëª¨ë‹¬ì°½ */
    #schedule_choose_modal {
        display: none;
        width: 800px;
        height: 530px;
        padding:80 70 50 70;
        border-radius: 30px;
        background-color: #fff;
    }
    #schedule_choose_modal .modal_close_btn {
        position: absolute;
        top: 30px;
        right: 30px;
    }
    #schedule_choose_modal .modal_close_btn img {
        width: 20px;
    }
    #schedule_choose_modal #schedule_type, #schedule_choose_modal #schedule_description {
        margin-bottom: 40px;
    }
    #schedule_choose_modal p { /* ì§ˆë¬¸ text */
        margin-bottom: 20px;
        font-weight: bold;
    }
    #schedule_choose_modal #type_section {  /* ìœ í˜• ì„ íƒ ì˜ì—­ */
        width: 585px;
        margin-left: auto;
        margin-right: auto;
    }
    #schedule_choose_modal .choose_item {   /* ê°ê°ì˜ ìœ í˜• ë²„íŠ¼ */
        display: inline-block;
        width: 250px;
        margin: 0 20 0 20;
        padding: 15 40 15 40;
        border-radius: 25px;
        border: 2px solid gray;
    }
    #schedule_choose_modal #cant_meet_btn {  /* ì•½ì† ë¶ˆê°€: ë¹„í™œì„±í™”ì¼ ê²½ìš° */
        border-color: #FF8683;
        color: #ACACAC;
    }
    #schedule_choose_modal #can_meet_btn {  /* ì•½ì† ì„ í˜¸: ë¹„í™œì„±í™”ì¼ ê²½ìš° */
        border-color: #57C070;
        color: #ACACAC;
    }
    #schedule_choose_modal #cant_meet_btn.active {  /* ì•½ì† ë¶ˆê°€: í™œì„±í™”ì¼ ê²½ìš° */
        border-color: #FF8683;
        background-color: #FF8683;
        color: #fff;
    }
    #schedule_choose_modal #can_meet_btn.active {  /* ì•½ì† ì„ í˜¸: í™œì„±í™”ì¼ ê²½ìš° */
        border-color: #57C070;
        background-color: #57C070;
        color: #fff;
    }
    #schedule_choose_modal .title { /* ìœ í˜• ë²„íŠ¼ ì•ˆì˜ ì œëª© */
        display: block;
        padding: 10px;
        text-align: center;
        font-family: 'Cafe24Ssurround';
        font-size: 18pt;
    }
    #schedule_choose_modal .sub {   /* ìœ í˜• ë²„íŠ¼ ì•ˆì˜ ì„¤ëª…ê¸€ */
        display: block;
        padding: 10px;
        text-align: center;
        font-size: 9pt;
    }
    #schedule_choose_modal input[type="text"] {   /* text input */
        font-size: 11pt;
        padding: 1.4rem 1rem;
        color: black;
    }

    .choice .not-allowed {
        cursor: not-allowed !important;
    }
</style>
{% endblock %}

{% block main-content %}
<main>
    <!--ìŠ¤ì¼€ì¤„ ìœ í˜• ì„ íƒí•˜ëŠ” ëª¨ë‹¬ì°½-->
    <div id="schedule_choose_modal">
        <a class="modal_close_btn"><img src="{% static 'images/close.png' %}"/></a>

        <form id="schedule_choose_form" method="POST">
            {% csrf_token %}
            <div id="schedule_type">
                <p>1. ì–´ë–¤ ìœ í˜•ì˜ ìŠ¤ì¼€ì¤„ì„ ì¶”ê°€í• ê¹Œìš”?</p>
                <div id="type_section">
                    <div id="cant_meet_btn" class="choose_item">
                        <input id="cant_meet_input" name="cant_meet" type="text" value="none" style="display: none;"/>    <!--í¼ì— ê°’ì„ ë„£ê¸° ìœ„í•œ ìš©ë„-->
                        <span class="title">ì•½ì† ë¶ˆê°€</span>
                        <span class="sub">ì•½ì†ì„ ì¡ì„ ìˆ˜ ì—†ì–´ìš”!ğŸ¤¨</span>
                    </div>
                    <div id="can_meet_btn" class="choose_item">
                        <input id="can_meet_input" name="can_meet" type="text" value="none" style="display: none;"/>     <!--í¼ì— ê°’ì„ ë„£ê¸° ìœ„í•œ ìš©ë„-->
                        <span class="title">ì•½ì† ì„ í˜¸</span>
                        <span class="sub">ì´ë•Œ ì•½ì†ì„ ì¡ê³  ì‹¶ì–´ìš”!ğŸ˜Š</span>
                    </div>
                </div> 
            </div>

            <div id="schedule_description">
                <p>2. ìŠ¤ì¼€ì¤„ ì •ë³´ë¥¼ ì ì–´ë†“ê³  ì‹¶ë‹¤ë©´ ì´ê³³ì— ì ì–´ì£¼ì„¸ìš”! </p>
                <input name="description" class="form-control" type="text" placeholder="ìƒëµë„ ê°€ëŠ¥í•´ìš” :) (10ì ì´ë‚´ë¡œ ì ì–´ì£¼ì„¸ìš”.)"/>
            </div>
            <div class="d-md-flex justify-content-md-end">
                <button id="choose_submit_btn" type="submit" class="reverse">OK</button>
            </div>
        </form>
    </div>

    <div id="header" class="d-flex justify-content-between">
        <div>
            <img class="icon" src="{% static 'images/schedule_setting_icon.png' %}"/>
            <span>ìŠ¤ì¼€ì¤„ ê´€ë¦¬</span>
        </div>
        <!--ì‚¬ìš©ìê°€ ìœ í˜•ì„ ì„ íƒí–ˆì„ ë•Œ ë³´ì—¬ì§ˆ header-->
        <div id="choose_menu">
            <div class="show_pick">
                {% if choiceType == 1 %}
                <div class="block">
                    <span>ì„ íƒí•œ ìœ í˜•:</span>
                    <span id="choose_cant_meet">ì•½ì† ë¶ˆê°€</span>
                </div>
                <div class="block explain">
                    <span>ì›í•˜ëŠ” ì˜ì—­ì„ í´ë¦­í•´ì£¼ì„¸ìš”.</span>
                </div>
                {% elif choiceType == 2 %}
                <div class="block">
                    <span>ì„ íƒí•œ ìœ í˜•:</span>
                    <span id="choose_can_meet">ì•½ì† ì„ í˜¸</span>
                </div>
                <div class="block explain">
                    <span>ì›í•˜ëŠ” ì˜ì—­ì„ í´ë¦­í•´ì£¼ì„¸ìš”.</span>
                </div>
                {% endif %}
            </div>

            {% if choiceType == null %}
            <button id="add_schedule_btn">ìŠ¤ì¼€ì¤„ ì¶”ê°€</button>
            {% endif %}
            {% if choiceType == 1 or choiceType == 2%}
            <button id="save_btn">ì €ì¥</button>
            <a href="{% url 'schedule' %}"><button id="cancel_btn" class="reverse">ì·¨ì†Œ</button></a>
            {% endif %}
        </div>
    </div>

    {% if choiceType == 1 or choiceType == 2 %}
    <div class="choice">
    {% else %}
    <div>
    {% endif %}
        <table id="schedule_table">
            <thead>
                <tr>
                    <th class="time"></th>
                    <th class="day">Monday</th>
                    <th class="day">Tuesday</th>
                    <th class="day">Wednesday</th>
                    <th class="day">Thursday</th>
                    <th class="day">Friday</th>
                    <th class="day">Saturday</th>
                    <th class="day">Sunday</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th class="time" id="0830" rowspan="2">9 AM</th>
                    <td id="MON0830" class="half not-allowed"></td>
                    <td id="TUE0830" class="half not-allowed"></td>
                    <td id="WED0830" class="half not-allowed"></td>
                    <td id="THU0830" class="half not-allowed"></td>
                    <td id="FRI0830" class="half not-allowed"></td>
                    <td id="SAT0830" class="half not-allowed"></td>
                    <td id="SUN0830" class="half not-allowed"></td>
                </tr>
                <tr>
                    <td id="MON0900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE0900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED0900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU0900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI0900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT0900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN0900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1000" rowspan="2">10 AM</th>
                    <td id="MON0930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE0930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED0930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU0930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI0930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT0930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN0930" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    
                    <td id="MON1000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>

                <tr>
                    <th class="time" id="1100" rowspan="2">11 AM</th>
                    <td id="MON1030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1030" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <td id="MON1100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1130" rowspan="2">12 PM</th>
                    <td id="MON1130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1130" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>            
                <tr>
                    <td id="MON1200" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1200" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1200" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1200" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1200" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1200" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1200" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1230" rowspan="2">1 PM</th>
                    <td id="MON1230" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1230" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1230" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1230" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1230" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1230" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1230" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>            
                <tr>
                    <td id="MON1300" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1300" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1300" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1300" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1300" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1300" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1300" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1330" rowspan="2">2 PM</th>
                    <td id="MON1330" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1330" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1330" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1330" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1330" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1330" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1330" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON1400" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1400" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1400" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1400" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1400" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1400" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1400" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1430" rowspan="2">3 PM</th>
                    <td id="MON1430" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1430" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1430" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1430" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1430" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1430" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1430" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON1500" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1500" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1500" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1500" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1500" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1500" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1500" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1530" rowspan="2">4 PM</th>
                    <td id="MON1530" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1530" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1530" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1530" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1530" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1530" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1530" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON1600" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1600" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1600" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1600" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1600" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1600" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1600" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1630" rowspan="2">5 PM</th>
                    <td id="MON1630" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1630" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1630" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1630" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1630" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1630" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1630" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON1700" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1700" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1700" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1700" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1700" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1700" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1700" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1730" rowspan="2">6 PM</th>
                    <td id="MON1730" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1730" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1730" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1730" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1730" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1730" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1730" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON1800" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1800" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1800" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1800" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1800" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1800" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1800" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1830" rowspan="2">7 PM</th>
                    <td id="MON1830" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1830" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1830" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1830" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1830" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1830" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1830" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON1900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1900" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="1930" rowspan="2">8 PM</th>
                    <td id="MON1930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE1930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED1930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU1930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI1930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT1930" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN1930" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON2000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE2000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED2000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU2000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI2000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT2000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN2000" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="2030" rowspan="2">9 PM</th>
                    <td id="MON2030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE2030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED2030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU2030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI2030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT2030" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN2030" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON2100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE2100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED2100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU2100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI2100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT2100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN2100" class="oclock" onclick="schedule_state_change(this.id);"></td>
                </tr>
                <tr>
                    <th class="time" id="2130" rowspan="2">10 PM</th>
                    <td id="MON2130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="TUE2130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="WED2130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="THU2130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="FRI2130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SAT2130" class="half" onclick="schedule_state_change(this.id);"></td>
                    <td id="SUN2130" class="half" onclick="schedule_state_change(this.id);"></td>
                </tr>           
                <tr>
                    <td id="MON2200" class="not-allowed"></td>
                    <td id="TUE2200" class="not-allowed"></td>
                    <td id="WED2200" class="not-allowed"></td>
                    <td id="THU2200" class="not-allowed"></td>
                    <td id="FRI2200" class="not-allowed"></td>
                    <td id="SAT2200" class="not-allowed"></td>
                    <td id="SUN2200" class="not-allowed"></td>
                </tr>
            </tbody>
        </table>
        <form id="changed_form" method="POST">
            {% csrf_token %}
            <input id="red_changed" name="red_changed" value="" type="text" style="display: none;"/>
            <input id="red_alias" name="red_alias" value="" type="text" style="display: none;"/>
            <input id="green_changed" name="green_changed" value="" type="text" style="display: none;"/>
            <input id="green_alias" name="green_alias" value="" type="text" style="display: none;"/>
            <input id="empty_changed" name="empty_changed" value="" type="text" style="display: none;"/>
        </form>
    </div>
</main>
{% endblock %}

{% block js %}
<script type="text/javascript">

    function next_time(time) {   //ë‹¤ìŒ ì‹œê°„ ë§Œë“¤ì–´ë‚´ëŠ” í•¨ìˆ˜ (ex.0900->0930)
        if (time.charAt(2)=='0') {  //ì •ê°ì´ë¼ë©´, 
            time = time.replaceAt(2,'3');  //30ë¶„ìœ¼ë¡œ ë§Œë“¦
        }
        else {  //halfë¼ë©´,
            time = time.replaceAt(2,'0');  //00ë¶„ìœ¼ë¡œ ë§Œë“¦
            var integer_time = parseInt(time.substring(0,2)) + 1;   //ì‹œê°„ + 1
            if (integer_time < 10) integer_time = '0'+integer_time; //ë‘ ìë¦¬ ìˆ˜ë¡œ ë§Œë“¦
            time = time.replaceAt(0, integer_time.toString());
        }
        return time;
    }

    String.prototype.replaceAt = function(index, replacement) {
        return this.substr(0, index) + replacement + this.substr(index + replacement.length);
    }

    function show_today() { //ì˜¤ëŠ˜ ìš”ì¼ ìŠ¤ì¼€ì¤„ì— ë‚˜íƒ€ë‚´ê¸°
        var d = new Date();
        var week = new Array('SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT');
        var day = week[d.getDay()]; //í˜„ì¬ ìš”ì¼ ê°€ì ¸ì˜¤ê¸°
        var time = "0830";

        //2230ì´ ë  ë•Œê¹Œì§€ whileë¬¸ ë°˜ë³µ
        while(time != "2230") {
            document.getElementById(day + time).classList.add('today');
            time = next_time(time);  //ë‹¤ìŒ id ë¬¸ìì—´ ë§Œë“¤ê¸°
        }
    }

    function show_schedule() {  //ì‚¬ìš©ì ìŠ¤ì¼€ì¤„ ë‚˜íƒ€ë‚´ê¸°
        var prev_day = "";
        var prev_time = "";
        var prev_value = "";
        var prev_alias = "";

        {% for schedule in schedules %}    
            if ("{{ schedule.value }}" == "1") {    //ì•½ì† ì„ í˜¸ ìœ í˜•ì´ë©´ "O" í´ë˜ìŠ¤ì— ì¶”ê°€
                document.getElementById("{{ schedule.day }}" + "{{ schedule.time }}").classList.add('O');
            }
            else if ("{{ schedule.value }}" == "-1") {  //ì•½ì† ë¶ˆê°€ ìœ í˜•ì´ë©´ "X" í´ë˜ìŠ¤ì— ì¶”ê°€
                document.getElementById("{{ schedule.day }}" + "{{ schedule.time }}").classList.add('X');
            }
            
            //í˜„ì¬ ìŠ¤ì¼€ì¤„ì´ ì´ì „ ìŠ¤ì¼€ì¤„ì˜ ì—°ì†ì´ ì•„ë‹ˆê±°ë‚˜, ë³„ì¹­ì´ ë‹¤ë¥´ë‹¤ë©´ prevëŠ” endë¡œ, scheduleì€ startë¡œ ì„¤ì •í•¨
            if (("{{ schedule.day }}" != prev_day) || ("{{ schedule.time }}" != next_time(prev_time)) || ("{{ schedule.alias }}" != prev_alias)) {
                document.getElementById("{{ schedule.day }}" + "{{ schedule.time }}").classList.add('start');   //scheduleì—ëŠ” start í‘œì‹œ

                if ("{{ schedule.value }}" == "1")      //ì•½ì† ì„ í˜¸ ìœ í˜•ì´ë©´ "ì•½ì† ì„ í˜¸" í‘œì‹œ
                    document.getElementById("{{ schedule.day }}" + "{{ schedule.time }}").innerText = "ì•½ì† ì„ í˜¸";
                else if ("{{ schedule.value }}" == "-1")     //ì•½ì† ë¶ˆê°€ ìœ í˜•ì´ë©´ "ì•½ì† ë¶ˆê°€" í‘œì‹œ
                    document.getElementById("{{ schedule.day }}" + "{{ schedule.time }}").innerText = "ì•½ì† ë¶ˆê°€";


                if ("{{ schedule.alias }}" != "" && "{{ schedule.alias }}" != "None") {   //ë³„ì¹­ì´ ìˆìœ¼ë©´ ì‹œì‘ ë‹¤ìŒ ì‹œê°„ì— í‘œì‹œ
                    document.getElementById("{{ schedule.day }}" + next_time("{{ schedule.time }}")).innerText = "{{ schedule.alias }}";
                    document.getElementById("{{ schedule.day }}" + next_time("{{ schedule.time }}")).classList.add("padding0");
                }
                if (prev_day != "") //prevê°€ ìˆì—ˆë‹¤ë©´,
                    document.getElementById(prev_day + prev_time).classList.add('end'); //prevì—ëŠ” end í‘œì‹œ
            }

            //ì´ì „ ë°ì´í„° ê°€ì§€ê³  ìˆìŒ
            prev_day = "{{schedule.day}}";
            prev_time = "{{schedule.time}}";
            prev_value = "{{schedule.value}}";
            prev_alias = "{{schedule.alias}}";
        {% endfor %}

        document.getElementById(prev_day + prev_time).classList.add('end'); //ì œì¼ ë§ˆì§€ë§‰ ìš”ì†Œì— end í‘œì‹œ
    }

    function is_next(time1, time2) {
        //ë‹¤ìŒ ë¬¸ìì—´ ë§Œë“¤ê¸°
        if (time2.charAt(2)=='0') {  //ì •ê°ì´ë¼ë©´, 
            time2 = time2.replaceAt(2,'3');  //30ë¶„ìœ¼ë¡œ ë§Œë“¦
        }
        else {  //halfë¼ë©´,
            time2 = time2.replaceAt(2,'0');  //00ë¶„ìœ¼ë¡œ ë§Œë“¦
            var integer_time = parseInt(time2.substring(0,2)) + 1;   //ì‹œê°„ + 1
            if (integer_time < 10) integer_time = '0'+integer_time; //ë‘ ìë¦¬ ìˆ˜ë¡œ ë§Œë“¦
            time2 = time2.replaceAt(0, integer_time.toString());
        }
    }
    //"ìŠ¤ì¼€ì¤„ ì¶”ê°€"ë¥¼ í´ë¦­í•˜ë©´ ëª¨ë‹¬ì°½ì„ ë„ì›Œì£¼ëŠ” í•¨ìˆ˜
    function show_modal(id) {
        var zIndex = 9999;  //ì œì¼ ë§¨ ì•ì— ë³´ì—¬ì£¼ê¸° ìœ„í•´ zIndexë¥¼ í° ê°’ìœ¼ë¡œ ì„¤ì • 
        var modal = document.getElementById(id);    //í•´ë‹¹ idì— ëŒ€í•œ ê°ì²´ë¥¼ modalë¡œ ì„¤ì •

        //ëª¨ë‹¬ì°½ì„ ì œì™¸í•œ ë°°ê²½ì„ ì–´ë‘¡ê²Œ
        var bg = document.createElement('div')
        bg.setStyle({
            position: 'fixed',
            zIndex: zIndex,
            left: '0px',
            top: '0px',
            width: '100%',
            height: '100%',
            overflow: 'auto',
            backgroundColor: 'rgba(0,0,0,0.45)'
        });
        document.body.append(bg);

        //ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
        modal.querySelector('.modal_close_btn').addEventListener('click', function() {
            bg.remove();                    //ë°°ê²½ìƒ‰ ì œê±°
            modal.style.display = 'none';   //ëª¨ë‹¬ì°½ ì•ˆë³´ì´ë„ë¡ none ì²˜ë¦¬
        });

        //ì•½ì† ë¶ˆê°€ ë²„íŠ¼ ì´ë²¤íŠ¸
        modal.querySelector('#cant_meet_btn').addEventListener('click', function() {
            document.getElementById('cant_meet_input').value = "active";        //ì•½ì† ë¶ˆê°€ input ê°’ ="active"
            document.getElementById('can_meet_input').value = "none";           //ì•½ì† ì„ í˜¸ input ê°’ ="none"
            document.getElementById('cant_meet_btn').classList.add('active');   //ì•½ì† ë¶ˆê°€ ë²„íŠ¼ì€ í™œì„±í™”
            document.getElementById('can_meet_btn').classList.remove('active'); //ì•½ì† ì„ í˜¸ ë²„íŠ¼ì€ ë¹„í™œì„±í™”
        });

        //ì•½ì† ì„ í˜¸ ë²„íŠ¼ ì´ë²¤íŠ¸
        modal.querySelector('#can_meet_btn').addEventListener('click', function() {
            document.getElementById('can_meet_input').value = "active";         //ì•½ì† ì„ í˜¸ input ê°’ ="active"
            document.getElementById('cant_meet_input').value = "none";          //ì•½ì† ë¶ˆê°€ input ê°’ ="none"
            document.getElementById('can_meet_btn').classList.add('active');    //ì•½ì† ì„ í˜¸ ë²„íŠ¼ì€ í™œì„±í™”
            document.getElementById('cant_meet_btn').classList.remove('active');//ì•½ì† ë¶ˆê°€ ë²„íŠ¼ì€ ë¹„í™œì„±í™”
        });

        //ëª¨ë‹¬ì°½ ë³´ì´ë„ë¡ css ë³€ê²½
        modal.setStyle({
            position: 'fixed',
            display: 'block',
            zIndex: zIndex + 1, // ì–´ë‘ìš´ ë°°ê²½ ìœ„ì— ìŒ“ì´ë„ë¡

            // í™”ë©´ ì¤‘ì•™ì— ì •ë ¬
            top: '50%',
            left: '50%',
            transform: 'translate(-50%, -50%)',
            msTransform: 'translate(-50%, -50%)',
            webkitTransform: 'translate(-50%, -50%)'
        });
    }

    function delete_schedule(cell_id) { //ex)MON0900
        if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {    //confirm ì°½ì„ í†µí•´ ì¬í™•ì¸
            var day = cell_id.toString().substring(0,3);    //ex)MON
            var time = cell_id.toString().substring(3,7);   //ex)0900

            var delete_cells = [];  //delete_cells: delete í•´ì•¼ í•  ì…€ì˜ id ë°°ì—´
            var id = cell_id;       //id: whileë¬¸ì„ í†µí•´ ìˆ˜ì‚¬í•  id
            delete_cells.push(id);  //ì‹œì‘ ì…€ì˜ id ì¶”ê°€

            //endê°€ ì íŒ cell ì°¾ì„ ë•Œê¹Œì§€ delete_cellsì— ì¶”ê°€
            while(!document.getElementById(id).classList.contains("end")) {
                //ë‹¤ìŒ id ë¬¸ìì—´ ë§Œë“¤ê¸°
                if (time.charAt(2)=='0') {  //ì •ê°ì´ë¼ë©´, 
                    time = time.replaceAt(2,'3');  //30ë¶„ìœ¼ë¡œ ë§Œë“¦
                }
                else {  //halfë¼ë©´,
                    time = time.replaceAt(2,'0');  //00ë¶„ìœ¼ë¡œ ë§Œë“¦
                    var integer_time = parseInt(time.substring(0,2)) + 1;   //ì‹œê°„ + 1
                    if (integer_time < 10) integer_time = '0'+integer_time;                //ë‘ ìë¦¬ ìˆ˜ë¡œ ë§Œë“¦
                    time = time.replaceAt(0, integer_time.toString());
                }
                id = day + time;
                delete_cells.push(id);  //ìˆ˜ì‚¬í•œ idë¥¼ delete_cells ë°°ì—´ì— ì¶”ê°€
            }
            
            //delete_cellsì— ì íŒ ì…€ë“¤ì˜ ìŠ¤ì¼€ì¤„ì„ ì‚­ì œ
            for (cell of delete_cells) {
                document.getElementById('empty_changed').value += cell + ",";
            }
            document.getElementById('changed_form').action = "{% url 'deleteSchedule' %}";  //action change
            document.getElementById('changed_form').submit();   
        }
    }

    String.prototype.replaceAt = function(index, replacement) {
        return this.substr(0, index) + replacement + this.substr(index + replacement.length);
    }
    
    //Elementì— styleì„ í•œë²ˆì— ì„¤ì •í•˜ëŠ” í•¨ìˆ˜
    Element.prototype.setStyle = function(styles) {
        for(var k in styles) this.style[k] = styles[k];
        return this;
    };

    //í•´ë‹¹ ë©”ë‰´í•­ëª©ì´ ì„ íƒëìŒì„ ë‚˜íƒ€ëƒ„
    document.getElementById('nav_schedule').classList.add('active');

    //"ìŠ¤ì¼€ì¤„ ì¶”ê°€" ë²„íŠ¼ ì´ë²¤íŠ¸
    if (document.getElementById('add_schedule_btn')) {
        document.getElementById('add_schedule_btn').addEventListener('click', function() {
            show_modal('schedule_choose_modal');
        });
    }
    
    //"ì €ì¥" ë²„íŠ¼ ì´ë²¤íŠ¸-table í¼ ì œì¶œ
    if (document.getElementById("save_btn")) {
        document.getElementById("save_btn").addEventListener('click', function() {
            var red_changed_cells = document.getElementsByClassName('red_changed');  //ì•½ì† ë¶ˆê°€ë¡œ ë³€ê²½ëœ ê°ì²´ë“¤
            var green_changed_cells = document.getElementsByClassName('green_changed');  //ì•½ì† ì„ í˜¸ë¡œ ë³€ê²½ëœ ê°ì²´ë“¤
            if (red_changed_cells.length != 0) {   
                for (cell of red_changed_cells) {
                    document.getElementById('red_changed').value += cell.id + ",";
                }
                document.getElementById('red_alias').value = "{{ description }}";
                document.getElementById('changed_form').action = "{% url 'addDislikeSchedule' %}";  //action change
            }
            else if (green_changed_cells != 0) {
                for (cell of green_changed_cells) {
                    document.getElementById('green_changed').value += cell.id + ",";
                }
                document.getElementById('green_alias').value = "{{ description }}";
                document.getElementById('changed_form').action = "{% url 'addLikeSchedule' %}";  //action change
            }
        
            document.getElementById('changed_form').submit();
        });
    }

    show_today();   //ì˜¤ëŠ˜ì— í•´ë‹¹í•˜ëŠ” ìš”ì¼ í‘œì‹œí•˜ê¸°
    show_schedule();    //ìŠ¤ì¼€ì¤„ í‘œì‹œí•˜ê¸°
</script>

{% if choiceType == 1 %}    <!--ì‚¬ìš©ìê°€ ì•½ì† ë¶ˆê°€ ìœ í˜•ì„ ì„ íƒí–ˆì„ ë•Œ js-->
<script type="text/javascript">
    //í•´ë‹¹ ë©”ë‰´í•­ëª©ì´ ì„ íƒëìŒì„ ë‚˜íƒ€ëƒ„
    document.getElementById('schedule_table').classList.add('red_clickable');

    //ì…€ì„ í´ë¦­í•˜ë©´ ë¹¨ê°„ìƒ‰ ë°°ê²½ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
    function schedule_state_change(id){
        //ì´ë¯¸ ìŠ¤ì¼€ì¤„ì´ ìˆìœ¼ë©´ í–‰ë™X
        if (document.getElementById(id).classList.contains('O') || document.getElementById(id).classList.contains('X')) return;

        document.getElementById(id).classList.toggle('red_changed');    //í•´ë‹¹ ì…€ì´ ë³€ê²½ë˜ì—ˆë‹¤ê³  í‘œì‹œ
    }
</script>
{% elif choiceType == 2 %}  <!--ì‚¬ìš©ìê°€ ì•½ì† ì„ í˜¸ ìœ í˜•ì„ ì„ íƒí–ˆì„ ë•Œ js-->
<script type="text/javascript">
    //í•´ë‹¹ ë©”ë‰´í•­ëª©ì´ ì„ íƒëìŒì„ ë‚˜íƒ€ëƒ„
    document.getElementById('schedule_table').classList.add('green_clickable');

    //ì…€ì„ í´ë¦­í•˜ë©´ ë¹¨ê°„ìƒ‰ ë°°ê²½ìœ¼ë¡œ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
    function schedule_state_change(id){
        //ì´ë¯¸ ìŠ¤ì¼€ì¤„ì´ ìˆìœ¼ë©´ í–‰ë™X
        if (document.getElementById(id).classList.contains('O') || document.getElementById(id).classList.contains('X')) return;
        document.getElementById(id).classList.toggle('green_changed');    //í•´ë‹¹ ì…€ì´ ë³€ê²½ë˜ì—ˆë‹¤ê³  í‘œì‹œ
    }
</script>
{% else %}
<script type="text/javascript">
    //í˜•ì‹ìƒ ë§Œë“  í•¨ìˆ˜
    function schedule_state_change(id){
        return
    }

    //ê° ìŠ¤ì¼€ì¤„ì— ì‚­ì œ ë²„íŠ¼ ì¶”ê°€
    schedules = document.getElementsByClassName("start");
    for (var i=0; i<schedules.length; i++) {
        if (schedules[i].classList.contains("X")) 
            schedules[i].innerHTML="<div class='d-flex justify-content-between'><span>ì•½ì† ë¶ˆê°€</span><img style='cursor:pointer' src='{% static 'images/delete.png' %}' onclick='delete_schedule(this.parentNode.parentNode.id);'/></div>";
        else if (schedules[i].classList.contains("O")) 
        schedules[i].innerHTML="<div class='d-flex justify-content-between'><span>ì•½ì† ì„ í˜¸</span><img style='cursor:pointer' src='{% static 'images/delete.png' %}' onclick='delete_schedule(this.parentNode.parentNode.id);'/></div>";
    }
</script>
{% endif %}
{% endblock %}